<div ng-controller="docDetailController">
	<div ng-click="selectCall($index)"
					ng-class="{
						'panel panel-default' : !isDocSelected($index),
						'panel panel-success' : isDocSelected($index)
					}">
		<div class="panel-heading" ng-click="showDocDetails()">
			<h4 class="panel-title" >
				{{apicall.fullPath}}
				<span class="label pull-right" ng-class="
					{
						'label-primary':apicall.method=='POST',
						'label-success':apicall.method=='GET',
						'label-info':apicall.method=='PUT',
						'label-danger':apicall.method=='DELETE',
						'label-default':apicall.method=='OPTIONS',
					}
					">{{apicall.method}}
				</span>
			</h4>
		</div>
		<div ng-show="isDocSelected($index)">
			<table class="table table-bordered" style="word-wrap: break-word; word-break: break-all" ng-show="apicall.pathParameters.length || apicall.requestParameters.length || apicall.requestBodyParameters.length">
				<tr>
					<th style="width: 5%">*</th>
					<th style="width: 5%"></th>
					<th style="width: 20%">Name</th>
					<th style="width: 30%">Type</th>
					<th style="width: 20%">Default</th>
					<th style="width: 20%">Format</th>
				</tr>
				<tr ng-repeat="param in apicall.pathParameters">
					<td>*</td>
					<td>
						<span class="badge pull-left" popover-trigger="mouseenter" popover-placement="bottom" popover-popup-delay="200" popover="Path Parameters">PP</span>
					</td>
					<td>
						{{param.parameterName}}
					</td>
					<td>
						<a popover-trigger="mouseenter" popover-placement="right" popover-popup-delay="200" popover="{{param.parameterType.className}}"  ng-click="showParamDetails(param.parameterType.className, $event)">
							{{param.parameterType.className | shorttype}}
						</a>
					</td>
					<td>--</td>
					<td>
						<span ng-show="param.format">{{param.format}}</span><span ng-show="!param.format">--</span>
					</td>
				</tr>
				<tr ng-repeat="param in apicall.requestParameters">
					<td>
						<span ng-show="param.mandatory">*</span>
					</td>
					<td>
						<span class="badge pull-left" popover-trigger="mouseenter" popover-placement="right" popover-popup-delay="200" popover="Request Parameters">RP</span>
					</td>
					<td>
						{{param.parameterName}}
					</td>
					<td>
						<a popover-trigger="mouseenter" popover-placement="right" popover-popup-delay="200" popover="{{param.parameterType.className}}" ng-click="showParamDetails(param.parameterType.className, $event)">
							{{param.parameterType.className | shorttype}}
						</a>
						<span ng-show="param.collection"> [ ]</span>
					</td>
					<td>
						{{param.defaultValue}}
					</td>
					<td>
						<span ng-show="param.format">{{param.format}}</span><span ng-show="!param.format">--</span>
					</td>
				</tr>
				<tr ng-repeat="param in apicall.requestBodyParameters">
					<td>
						<span ng-show="param.mandatory">*</span><span ng-show="!param.mandatory">--</span>
					</td>
					<td>
						<span class="badge pull-left" popover-trigger="mouseenter" popover-placement="right" popover-popup-delay="200" popover="Request Body">RB</span>
					</td>
					<td>
						{{param.parameterName}}
					</td>
					<td>
						<a popover-trigger="mouseenter" popover-placement="right" popover-popup-delay="200" popover="{{param.parameterType.className}}" ng-click="showParamDetails(param.parameterType.className, $event)">
							{{param.parameterType.className | shorttype}}
						</a>
						<span ng-show="param.collection"> [ ]</span>
					</td>
					<td>--</td>
					<td>
						<span ng-show="param.format">{{param.format}}</span><span ng-show="!param.format">--</span>
					</td>
				</tr>
				<tr ng-show="apicall.returnType.returnClass.className != 'void'">
					<td>--</td>
					<td colspan="2">
						<span class="badge pull-left" popover-trigger="mouseenter" popover-placement="right" popover-popup-delay="200" popover="Return Type">RETURN</span>
					</td>
					<td>
						<a popover-trigger="mouseenter" popover-placement="right" popover-popup-delay="200" popover="{{apicall.returnType.returnClass.className}}" ng-click="showParamDetails(apicall.returnType.returnClass.className, $event)">
							{{apicall.returnType.returnClass.className | shorttype}}
						</a>
						<span ng-show="apicall.returnType.collection"> [ ]</span>
					</td>
					<td>--</td>
					<td>--</td>
				</tr>
			</table>
			<div ng-show="!isNoneParam() && docparam.showDetail">
				<pre>{{docparam.detail}}</pre>
			</div>
			<div ng-bind-html="apicall.description | markdown">{{apicall.description | markdown}}</div>
		</div>
	</div>
</div>